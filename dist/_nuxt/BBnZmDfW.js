import{g as U,h as q,a4 as M,G as E,i as v,o as m,l as C,w as $,b as k,k as b,n as H,C as O,a as _,t as Q,_ as X,N as R,O as F,av as J,Q as K,R as T,c as A,$ as N,m as P,j,F as Y,B as Z,L as x,q as ee,s as te,E as oe}from"./CST-ZKdJ.js";import{u as W}from"./BW_eh0Ps.js";import{a as ne}from"./Cx08xRP1.js";import{_ as se}from"./DBd5Fm0R.js";const ae={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},ye=U({__name:"Status",props:{productId:{type:Number,required:!0},status:{type:Boolean,required:!0}},emits:["updated"],setup(e,{emit:r}){const i=e,h=r,{t:o}=q(),{userInfo:u}=M(E()),a=v(()=>i.status?o("product.table.show.shown"):o("product.table.show.hidden")),n=v(()=>i.status?"/images/icons/eye.svg":"/images/icons/eye-closed-red.svg"),{fetchData:s,loading:c}=W();c.value=!1;const d=()=>{s({url:"provider/products/toggle-status",method:"POST",headers:{Authorization:`Bearer ${u.value.token}`},params:{_method:"PATCH"},body:{product_id:i.productId},getSuccess:!0,onSuccess:()=>{h("updated")}})};return(w,p)=>{const L=H,l=O;return m(),C(l,{label:b(a),color:i.status?"primary":"red",variant:"link",ui:{color:{primary:{link:"no-underline"},red:{link:"no-underline"}}},loading:b(c),onClick:d},{leading:$(()=>[k(L,{src:b(n),size:"2xs"},null,8,["src"])]),_:1},8,["label","color","loading"])}}}),le=["alt"],ie={class:"p-4"},re={class:"text-center mb-4"},ue={class:"flex items-center justify-center gap-3 flex-wrap"},Be={__name:"Delete",props:{productId:{type:Number,required:!0}},emits:["deleted"],setup(e,{emit:r}){const i=e,h=r,{userInfo:o}=M(E()),{fetchData:u,loading:a}=W();a.value=!1;const n=s=>{u({url:`provider/products/${i.productId}`,method:"DELETE",headers:{Authorization:`Bearer ${o.value.token}`},getSuccess:!0,onSuccess:()=>{h("deleted"),s()}})};return(s,c)=>{const d=O,w=ne;return m(),C(w,null,{panel:$(({close:p})=>[_("div",ie,[_("h6",re,Q(s.$t("product.delete.sure")),1),_("div",ue,[k(d,{color:"red",size:"lg",label:s.$t("product.delete.this"),loading:b(a),onClick:L=>n(p)},null,8,["label","loading","onClick"]),k(d,{color:"primary",size:"lg",label:s.$t("general.cancel"),onClick:p},null,8,["label","onClick"])])])]),default:$(()=>[k(d,{color:"red",square:"",class:"rounded-full",size:"2xs"},{default:$(()=>[_("img",{src:se,alt:s.$t("product.edit"),class:"w-4 h-4"},null,8,le)]),_:1})]),_:1})}}},B=R(F.ui.strategy,F.ui.pagination,ae),de=R(F.ui.strategy,F.ui.button,J),ce=U({components:{UButton:O},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>B.default.size,validator(e){return Object.keys(de.size).includes(e)}},to:{type:Function,default:null},activeButton:{type:Object,default:()=>B.default.activeButton},inactiveButton:{type:Object,default:()=>B.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>B.default.firstButton},lastButton:{type:Object,default:()=>B.default.lastButton},prevButton:{type:Object,default:()=>B.default.prevButton},nextButton:{type:Object,default:()=>B.default.nextButton},divider:{type:String,default:"â€¦"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:r}){const{ui:i,attrs:h}=K("pagination",T(e,"ui"),B,T(e,"class")),o=v({get(){return e.modelValue},set(l){r("update:modelValue",l)}}),u=v(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(l,g)=>g+1)),a=v(()=>{const l=u.value.length,g=o.value,I=Math.max(e.max,5),y=Math.floor((Math.min(I,l)-5)/2),D=g-y,S=g+y,V=D-1>1,G=S+1<l,t=[];if(l<=I){for(let f=1;f<=l;f++)t.push(f);return t}if(t.push(1),V&&t.push(e.divider),!G){const f=g+y+2-l;for(let z=g-y-f;z<=g-y-1;z++)t.push(z)}for(let f=Math.max(2,D);f<=Math.min(l,S);f++)t.push(f);if(!V){const f=1-(g-y-2);for(let z=g+y+1;z<=g+y+f;z++)t.push(z)}return G&&t.push(e.divider),S<l&&t.push(l),t.length>=3&&t[1]===e.divider&&t[2]===3&&(t[1]=2),t.length>=3&&t[t.length-2]===e.divider&&t[t.length-1]===t.length&&(t[t.length-2]=t.length-1),t}),n=v(()=>o.value>1),s=v(()=>o.value<u.value.length);function c(){n.value&&(o.value=1)}function d(){s.value&&(o.value=u.value.length)}function w(l){typeof l!="string"&&(o.value=l)}function p(){n.value&&o.value--}function L(){s.value&&o.value++}return{ui:i,attrs:h,currentPage:o,pages:u,displayedPages:a,canGoLastOrNext:s,canGoFirstOrPrev:n,onClickPrev:p,onClickNext:L,onClickPage:w,onClickFirst:c,onClickLast:d}}});function pe(e,r,i,h,o,u){const a=O;return m(),A("div",P({class:e.ui.wrapper},e.attrs),[N(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(m(),C(a,P({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):j("",!0)]),N(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(m(),C(a,P({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):j("",!0)]),(m(!0),A(Y,null,Z(e.displayedPages,(n,s)=>{var c;return m(),C(a,P({key:`${n}-${s}`,to:typeof n=="number"?(c=e.to)==null?void 0:c.call(e,n):null,size:e.size,disabled:e.disabled,label:`${n}`,ref_for:!0},n===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof n=="string","z-[1]":n===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(n)}),null,16,["to","size","disabled","label","class","onClick"])}),128)),N(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(m(),C(a,P({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):j("",!0)]),N(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(m(),C(a,P({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):j("",!0)])],16)}const fe=X(ce,[["render",pe]]),me={__name:"ThePaginator",props:{},emits:["update:page"],setup(e,{emit:r}){const{locale:i}=q(),h=v(()=>i.value=="en"?"right":"left"),o=v(()=>i.value=="en"?"left":"right"),u=x("paginateData"),a=ee(1),n=r;return te(a,s=>{s&&n("update:page",s)}),(s,c)=>{const d=O,w=fe;return m(),C(w,{modelValue:b(a),"onUpdate:modelValue":c[0]||(c[0]=p=>oe(a)?a.value=p:null),total:b(u).total_items,"page-count":b(u).per_page,max:5},{prev:$(()=>[k(d,{class:"hidden"})]),next:$(()=>[k(d,{class:"hidden"})]),first:$(({onClick:p})=>[k(d,{icon:`i-heroicons-chevron-double-${b(o)}-20-solid`,color:"gray",variant:"solid",size:"sm",ui:{rounded:"rounded-full"},onClick:p},null,8,["icon","onClick"])]),last:$(({onClick:p})=>[k(d,{icon:`i-heroicons-chevron-double-${b(h)}-20-solid`,color:"gray",variant:"solid",size:"sm",ui:{rounded:"rounded-full"},onClick:p},null,8,["icon","onClick"])]),_:1},8,["modelValue","total","page-count"])}}},he={class:"flex items-center justify-between gap-6 flex-wrap border-t border-t-strokeLightGray bg-white p-7 shadow-card rounded-b-3xl"},Ce=U({__name:"TheDataTable",setup(e){return(r,i)=>{const h=me;return m(),A("section",null,[N(r.$slots,"default"),_("div",he,[_("div",null,[N(r.$slots,"tfoot")]),k(h,{"onUpdate:page":i[0]||(i[0]=o=>r.$emit("update:page",o))})])])}}});export{ye as _,Be as a,Ce as b};
