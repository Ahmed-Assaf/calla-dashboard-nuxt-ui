import{_ as x}from"./Bl80ofdR.js";import{h as D,H as w,a4 as S,G as T,i as B,q as P,v as U,c as G,b as a,a as l,w as s,a5 as q,o as A,k as n,d as I,t as N,P as R,C as V}from"./CST-ZKdJ.js";import{b as j,_ as z,a as C}from"./BBnZmDfW.js";import{_ as H}from"./pkxXHx2O.js";import{_ as E}from"./dT0B_MhN.js";import{u as F}from"./BW_eh0Ps.js";import{_ as L}from"./Cx08xRP1.js";import"./DBd5Fm0R.js";import"./CB507DKx.js";import"./DevvwYKm.js";import"./CAPv1DYq.js";import"./P6enAWVv.js";import"./C298fiGN.js";import"./DeCzlx8H.js";import"./D5w4h-Vr.js";const M={class:"grid grid-cols-12 mb-6"},J={class:"col col-span-12"},K=["src"],O={class:"flex items-center gap-2 w-max"},Q=["alt"],_e={__name:"index",setup(W){const{t}=D(),i=w(),{userInfo:u}=S(T()),{fetchData:p,loading:_,resultData:c}=F(),m=B(()=>[{key:"id",label:t("general.table.id")},{key:"image",label:t("general.table.image")},{key:"title",label:t("product.table.name"),sortable:!0},{key:"price",label:t("general.table.price"),sortable:!0},{key:"price_after_discount",label:t("general.table.discount"),sortable:!0},{key:"created_at",label:t("general.table.date"),sortable:!0},{key:"avg_rate",label:t("general.table.rate")},{key:"is_available",label:t("product.table.show.title")},{key:"actions"}]),d=P({});q("paginateData",d);const r=(o=1)=>{p({url:"provider/products/index",headers:{Authorization:`Bearer ${u.value.token}`},params:{page:o},onSuccess:()=>{d.value=c.value.pagination}})};return U(()=>{r()}),(o,X)=>{const b=x,g=R,f=z,h=C,v=V,k=H,y=E,$=j;return A(),G("div",null,[a(b,{title:[{label:o.$t("product.plural")}]},null,8,["title"]),l("div",M,[l("div",J,[a($,{class:"stripe-table","onUpdate:page":r},{tfoot:s(()=>[a(y,{class:"justify-between gap-7",label:o.$t("product.create"),link:"products-create","icon-image":"/images/icons/plus-square-filled-white.svg",to:n(i)({name:"products-id",params:{id:"create"}})},null,8,["label","to"])]),default:s(()=>[a(k,{columns:n(m),rows:n(c).products,loading:n(_),loadingState:{label:o.$t("general.loading")},emptyState:{label:o.$t("general.no_data")},ui:{wrapper:"the-data-table"}},{"image-data":s(({row:e})=>[l("img",{src:e.image?e.image:"/images/product-default.svg",alt:"",class:"w-12 aspect-[1] object-contain"},null,8,K)]),"avg_rate-data":s(({row:e})=>[l("div",null,[I(N(e.avg_rate)+" ",1),a(g,{name:"i-heroicons-star-solid",dynamic:"",class:"text-base text-starActive"})])]),"is_available-data":s(({row:e})=>[a(f,{status:e.is_available,"product-id":e.id,onUpdated:r},null,8,["status","product-id"])]),"actions-data":s(({row:e})=>[l("div",O,[a(h,{"product-id":e.id,onDeleted:r},null,8,["product-id"]),a(v,{to:n(i)({name:"products-id",params:{id:e.id}}),square:"",class:"rounded-full",size:"2xs"},{default:s(()=>[l("img",{src:L,alt:o.$t("product.edit"),class:"w-4 h-4"},null,8,Q)]),_:2},1032,["to"])])]),_:1},8,["columns","rows","loading","loadingState","emptyState"])]),_:1})])])])}}};export{_e as default};
